{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import SignIn from'./SignIn';import Sidebar from'./Sidebar';import Dashboard from'./Dashboard';import MapView from'./MapView';import CurrentRecords from'./CurrentRecords';import AddRecord from'./AddRecord';import HelpSupport from'./HelpSupport';import Profile from'./Profile';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{isAuthenticated,children}=_ref;return isAuthenticated?children:/*#__PURE__*/_jsx(Navigate,{to:\"/signin\"});}function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const storedAuth=localStorage.getItem('isAuthenticated');if(storedAuth==='true'){setIsAuthenticated(true);}},[]);useEffect(()=>{localStorage.setItem('isAuthenticated',isAuthenticated);},[isAuthenticated]);const handleLogout=()=>{setIsAuthenticated(false);localStorage.removeItem('isAuthenticated');};return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(SignIn,{setIsAuthenticated:setIsAuthenticated})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(ProtectedRoute,{isAuthenticated:isAuthenticated,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/background-image.png\",alt:\"Background\",className:\"bg-image\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',position:'relative'},children:[/*#__PURE__*/_jsx(Sidebar,{onLogout:handleLogout}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/map\",element:/*#__PURE__*/_jsx(MapView,{})}),/*#__PURE__*/_jsx(Route,{path:\"/currentrecords\",element:/*#__PURE__*/_jsx(CurrentRecords,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-record\",element:/*#__PURE__*/_jsx(AddRecord,{})}),/*#__PURE__*/_jsx(Route,{path:\"/helpsupport\",element:/*#__PURE__*/_jsx(HelpSupport,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{children:\"Page Not Found\"})})]})})]})]})})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","SignIn","Sidebar","Dashboard","MapView","CurrentRecords","AddRecord","HelpSupport","Profile","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","isAuthenticated","children","to","App","setIsAuthenticated","storedAuth","localStorage","getItem","setItem","handleLogout","removeItem","path","element","src","alt","className","style","display","minHeight","position","onLogout"],"sources":["C:/Users/Jan Nikko/Downloads/crime-map-proto/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport SignIn from './SignIn';\r\nimport Sidebar from './Sidebar';\r\nimport Dashboard from './Dashboard';\r\nimport MapView from './MapView';\r\nimport CurrentRecords from './CurrentRecords';\r\nimport AddRecord from './AddRecord';\r\nimport HelpSupport from './HelpSupport';\r\nimport Profile from './Profile';\r\nimport './App.css';\r\n\r\nfunction ProtectedRoute({ isAuthenticated, children }) {\r\n  return isAuthenticated ? children : <Navigate to=\"/signin\" />;\r\n}\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedAuth = localStorage.getItem('isAuthenticated');\r\n    if (storedAuth === 'true') {\r\n      setIsAuthenticated(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('isAuthenticated', isAuthenticated);\r\n  }, [isAuthenticated]);\r\n\r\n  const handleLogout = () => {\r\n    setIsAuthenticated(false);\r\n    localStorage.removeItem('isAuthenticated');\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route\r\n          path=\"/signin\"\r\n          element={<SignIn setIsAuthenticated={setIsAuthenticated} />}\r\n        />\r\n\r\n        <Route\r\n          path=\"/*\"\r\n          element={\r\n            <ProtectedRoute isAuthenticated={isAuthenticated}>\r\n              <>\r\n                <img src=\"/background-image.png\" alt=\"Background\" className=\"bg-image\" />\r\n\r\n                <div style={{ display: 'flex', minHeight: '100vh', position: 'relative' }}>\r\n                  <Sidebar onLogout={handleLogout} />\r\n                  <div className=\"main-content\">\r\n                    <Routes>\r\n                      <Route path=\"/\" element={<Dashboard />} />\r\n                      <Route path=\"/map\" element={<MapView />} />\r\n                      <Route path=\"/currentrecords\" element={<CurrentRecords />} />\r\n                      <Route path=\"/add-record\" element={<AddRecord />} />\r\n                      <Route path=\"/helpsupport\" element={<HelpSupport />} />\r\n                      <Route path=\"/profile\" element={<Profile />} />\r\n                      <Route path=\"*\" element={<div>Page Not Found</div>} />\r\n                    </Routes>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}